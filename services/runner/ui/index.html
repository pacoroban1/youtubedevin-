<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Amharic Recap Factory</title>
    <link rel="stylesheet" href="styles.css" />
    <script defer src="app.js"></script>
  </head>
  <body>
    <!-- Header -->
    <header class="topbar">
      <div class="topbar__left">
        <div class="logo-mark"></div>
        <span class="logo-text">RECAP FACTORY</span>
      </div>
      <nav class="topbar__nav">
        <button class="nav-tab active" data-tab="workflow" id="tabWorkflow">Workflow</button>
        <button class="nav-tab" data-tab="workbench" id="tabWorkbench">Workbench</button>
        <button class="nav-tab" data-tab="monitor" id="tabMonitor">Monitor</button>
      </nav>
      <div class="topbar__right">
        <div class="status-pill" id="statusPill">
          <span class="status-dot" id="statusDot"></span>
          <span class="status-text" id="statusText">Ready</span>
        </div>
      </div>
    </header>

    <main class="main">
      <!-- WORKFLOW TAB - Visual Pipeline -->
      <section class="tab-content active" id="tabContentWorkflow">
        <div class="workflow-canvas">
          <div class="workflow-header">
            <span class="workflow-label">workflow-amharic.flux</span>
          </div>
          
          <!-- Visual Node Graph -->
          <div class="node-graph">
            <div class="node node--trigger" id="node-trigger">
              <div class="node__icon">&#9201;</div>
              <div class="node__label">Schedule</div>
              <div class="node__sub">Daily 6AM</div>
            </div>
            <div class="connector"></div>
            
            <div class="node" id="node-discover">
              <div class="node__icon">&#128269;</div>
              <div class="node__label">Discover</div>
              <div class="node__sub">Find Video</div>
            </div>
            <div class="connector"></div>
            
            <div class="node" id="node-ingest">
              <div class="node__icon">&#128229;</div>
              <div class="node__label">Ingest</div>
              <div class="node__sub">Download</div>
            </div>
            <div class="connector"></div>
            
            <div class="node" id="node-script">
              <div class="node__icon">&#128221;</div>
              <div class="node__label">Script</div>
              <div class="node__sub">Translate</div>
            </div>
            <div class="connector"></div>
            
            <div class="node" id="node-voice">
              <div class="node__icon">&#127908;</div>
              <div class="node__label">Voice</div>
              <div class="node__sub">Generate</div>
            </div>
            <div class="connector"></div>
            
            <div class="node" id="node-render">
              <div class="node__icon">&#127916;</div>
              <div class="node__label">Render</div>
              <div class="node__sub">Build Video</div>
            </div>
            <div class="connector"></div>
            
            <div class="node" id="node-thumbnail">
              <div class="node__icon">&#128247;</div>
              <div class="node__label">Thumbnail</div>
              <div class="node__sub">Create</div>
            </div>
            <div class="connector"></div>
            
            <div class="node node--success" id="node-complete">
              <div class="node__label">Success</div>
            </div>
          </div>

          <!-- Progress Bar -->
          <div class="workflow-progress">
            <div class="workflow-progress__fill" id="workflowProgress"></div>
          </div>
        </div>
      </section>

      <!-- WORKBENCH TAB - Control Interface -->
      <section class="tab-content" id="tabContentWorkbench">
        <div class="workbench">
          <div class="system-card">
            <div class="system-label">SYSTEM_CORE</div>
            <div class="system-status">
              SYSTEM ONLINE // RECAP_ENGINE: ACTIVE // SCHEDULE_MODE: ENABLED // AUTO_PUBLISH: READY
            </div>
            <p class="system-desc">
              I am the <strong>Amharic Recap Factory</strong>. I find trending videos, translate them to Amharic, 
              generate voice narration, and create ready-to-upload content automatically.
            </p>
            
            <div class="instruction-block">
              <div class="instruction-label">Automation:</div>
              <p class="instruction-text">
                Press <strong>Run Now</strong> to create a recap immediately, or configure the 
                <strong>schedule</strong> to run automatically every day.
              </p>
            </div>

            <div class="action-row">
              <button class="btn-primary" id="btnRunNow">Run Now</button>
              <button class="btn-secondary" id="btnSchedule">Configure Schedule</button>
            </div>
          </div>

          <!-- Schedule Modal (hidden by default) -->
          <div class="schedule-card hidden" id="scheduleCard">
            <div class="schedule-header">
              <span>Schedule Settings</span>
              <button class="btn-close" id="btnCloseSchedule">&times;</button>
            </div>
            <div class="schedule-body">
              <div class="schedule-option">
                <label class="toggle">
                  <input type="checkbox" id="scheduleEnabled" checked />
                  <span class="toggle-slider"></span>
                </label>
                <span>Enable Daily Automation</span>
              </div>
              <div class="schedule-time">
                <label>Run at:</label>
                <select id="scheduleHour">
                  <option value="0">12:00 AM</option>
                  <option value="1">1:00 AM</option>
                  <option value="2">2:00 AM</option>
                  <option value="3">3:00 AM</option>
                  <option value="4">4:00 AM</option>
                  <option value="5">5:00 AM</option>
                  <option value="6" selected>6:00 AM</option>
                  <option value="7">7:00 AM</option>
                  <option value="8">8:00 AM</option>
                  <option value="9">9:00 AM</option>
                  <option value="10">10:00 AM</option>
                  <option value="11">11:00 AM</option>
                  <option value="12">12:00 PM</option>
                  <option value="13">1:00 PM</option>
                  <option value="14">2:00 PM</option>
                  <option value="15">3:00 PM</option>
                  <option value="16">4:00 PM</option>
                  <option value="17">5:00 PM</option>
                  <option value="18">6:00 PM</option>
                  <option value="19">7:00 PM</option>
                  <option value="20">8:00 PM</option>
                  <option value="21">9:00 PM</option>
                  <option value="22">10:00 PM</option>
                  <option value="23">11:00 PM</option>
                </select>
              </div>
              <button class="btn-primary" id="btnSaveSchedule">Save Schedule</button>
            </div>
          </div>

          <!-- Output Card (shown after completion) -->
          <div class="output-card hidden" id="outputCard">
            <div class="output-preview">
              <img id="thumbnailImg" src="" alt="Thumbnail" />
            </div>
            <div class="output-info">
              <div class="output-title" id="outputTitle">Your Recap is Ready</div>
              <div class="output-meta" id="outputMeta"></div>
              <div class="output-actions">
                <a class="btn-primary" id="btnDownloadVideo" href="#" download>Download Video</a>
                <a class="btn-secondary" id="btnDownloadThumb" href="#" download>Download Thumbnail</a>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- MONITOR TAB - Stats & History -->
      <section class="tab-content" id="tabContentMonitor">
        <div class="monitor">
          <!-- Stats Row -->
          <div class="stats-row">
            <div class="stat-card">
              <div class="stat-value" id="statTotal">0</div>
              <div class="stat-label">TOTAL RECAPS</div>
              <div class="stat-sub">All Time</div>
            </div>
            <div class="stat-card">
              <div class="stat-value" id="statToday">0</div>
              <div class="stat-label">TODAY</div>
              <div class="stat-sub">Completed</div>
            </div>
            <div class="stat-card">
              <div class="stat-value" id="statSchedule">6 AM</div>
              <div class="stat-label">NEXT RUN</div>
              <div class="stat-sub">Scheduled</div>
            </div>
            <div class="stat-card">
              <div class="stat-value stat-value--accent" id="statUptime">99.9%</div>
              <div class="stat-label">UPTIME</div>
            </div>
          </div>

          <!-- Feature Cards -->
          <div class="feature-row">
            <div class="feature-card">
              <div class="feature-icon">&#128302;</div>
              <div class="feature-title">Visual Flow Designer</div>
              <div class="feature-desc">View the automation pipeline</div>
            </div>
            <div class="feature-card">
              <div class="feature-icon">&#128200;</div>
              <div class="feature-title">Analytics</div>
              <div class="feature-desc">Track performance metrics</div>
            </div>
          </div>

          <!-- Active Agents -->
          <div class="agents-section">
            <div class="agents-header">Active Workforce</div>
            <div class="agents-grid">
              <div class="agent-card">
                <div class="agent-icon">&#128269;</div>
                <div class="agent-name">DISCOVERY</div>
                <div class="agent-role">Video Finder</div>
              </div>
              <div class="agent-card">
                <div class="agent-icon">&#128221;</div>
                <div class="agent-name">TRANSLATOR</div>
                <div class="agent-role">Amharic Script</div>
              </div>
              <div class="agent-card">
                <div class="agent-icon">&#127908;</div>
                <div class="agent-name">VOICE_GEN</div>
                <div class="agent-role">Audio Synthesis</div>
              </div>
              <div class="agent-card">
                <div class="agent-icon">&#127916;</div>
                <div class="agent-name">RENDERER</div>
                <div class="agent-role">Video Builder</div>
              </div>
              <div class="agent-card">
                <div class="agent-icon">&#128247;</div>
                <div class="agent-name">THUMBNAIL</div>
                <div class="agent-role">Cover Creator</div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>
  </body>
</html>

